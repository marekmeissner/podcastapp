e67e0ca76687325cc045e3e970c74a20
"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.ThemeShape = exports.default = void 0;var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _propTypes = require("prop-types");
var _resolveIncludes = _interopRequireDefault(require("./resolveIncludes"));
var _mergeComponentAndThemeStyles = _interopRequireDefault(require("./mergeComponentAndThemeStyles"));
var _normalizeStyle = _interopRequireDefault(require("./StyleNormalizer/normalizeStyle"));


var THEME_STYLE = "@@shoutem.theme/themeStyle";
var THEME_STYLE_CACHE = "@@shoutem.theme/themeCachedStyle";

var defaultTheme;

var resolveStyle = function resolveStyle(style, baseStyle) {return (
    (0, _normalizeStyle.default)((0, _resolveIncludes.default)(style, baseStyle)));};var

























Theme = function () {
  function Theme(themeStyle) {(0, _classCallCheck2.default)(this, Theme);
    this[THEME_STYLE] = resolveStyle(themeStyle);
    this[THEME_STYLE_CACHE] = {};
  }(0, _createClass2.default)(Theme, [{ key: "createComponentStyle", value: function createComponentStyle(































    componentName, defaultStyle) {
      if (this[THEME_STYLE_CACHE][componentName]) {
        return this[THEME_STYLE_CACHE][componentName];
      }

      var componentIncludedStyle = resolveStyle(
      defaultStyle,
      this[THEME_STYLE]);







      this[THEME_STYLE_CACHE][componentName] = (0, _mergeComponentAndThemeStyles.default)(
      componentIncludedStyle,
      this[THEME_STYLE][componentName],
      this[THEME_STYLE]);


      return this[THEME_STYLE_CACHE][componentName];
    } }], [{ key: "setDefaultThemeStyle", value: function setDefaultThemeStyle(style) {defaultTheme = new Theme(style);} }, { key: "getDefaultTheme", value: function getDefaultTheme() {if (!defaultTheme) {defaultTheme = new Theme({});}return defaultTheme;} }]);return Theme;}();exports.default = Theme;


var ThemeShape = _propTypes.PropTypes.shape({
  createComponentStyle: _propTypes.PropTypes.func.isRequired });exports.ThemeShape = ThemeShape;